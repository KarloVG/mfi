<header class="bg-primary col-sm-12 text-center text-light p-1">
  <app-toolbar-info [moduleFontIcon]="moduleFontIcon" [moduleName]="moduleName"></app-toolbar-info>
</header>

<div>
  <app-visualisation-toolbar (childNotification)="onChangeOsobaOrIzvod($event)" [displayType]="displayType"
    [expandViewAction]="expandView.bind(this)" [contractViewAction]="contractView.bind(this)"
    [notificationsAction]="notifications.bind(this)" [filterAction]="filter.bind(this)"
    [exportAction]="export.bind(this)">
  </app-visualisation-toolbar>
  <!-- [addUserAction]="addUser.bind(this)" -->

  <form [formGroup]="flowFormGroup" (ngSubmit)="onSelectTimespan()">
    <div class="col-lg-6 col-md-6 col-sm-12 offset-3 mt-1">
      <h6 class="mb-3">Vremenski period u dijagramu<span class="text-danger">*</span></h6>
      <div class="input-group">
        <label class="radio radio-outline-primary mr-3" *ngFor="let choice of timespanChoices">
          <input type="radio" name="timespanChoice" [value]="choice.id" formControlName="timespanChoice"
            (change)="changeGraphTimespan($event)">
          <span>{{ choice.name }}</span>
          <span class="checkmark"></span>
        </label>
      </div>
    </div>
    <div class="col-lg-12 row mb-4">
      <label for="date" class="col-sm-12 mb-2 col-form-label">
        Datum otvaranja predmeta<span class="text-danger">*</span>
      </label>
      <label for="dateFrom" class="col-sm-2 col-form-label">
        od
      </label>
      <div class="col-sm-4 input-group">
        <input class="form-control" placeholder="dan.mjesec.godina" name="dp2" formControlName="DatumOd" ngbDatepicker
          #d2="ngbDatepicker" [readonly]="true" [minDate]="{year: 2000, month: 1, day: 1}" placement="top"
          [maxDate]="dynamicToday">
        <div class="input-group-append">
          <button class="btn btn-outline-secondary calendar-box" (click)="d2.toggle()" type="button"><span
              class="fas fa-calendar"></span></button>
        </div>
      </div>
      <div class="invalid-feedback">Polje je obavezno</div>
      <label for="dateTo" class="col-sm-2 col-form-label text-center">
        do
      </label>
      <div class="col-sm-4 input-group">
        <input class="form-control" placeholder="dan.mjesec.godina" name="dp1" formControlName="DatumDo" ngbDatepicker
          #d1="ngbDatepicker" [readonly]="true" placement="top" [minDate]="{year: 2000, month: 1, day: 1}"
          [maxDate]="dynamicToday">
        <div class="input-group-append">
          <button class="btn btn-outline-secondary calendar-box" (click)="d1.toggle()" type="button"><span
              class="fas fa-calendar"></span></button>
        </div>
        <div class="invalid-feedback">Polje je obavezno</div>
      </div>
    </div>
  </form>

  <div id="chart-area">
    <div class="col-sm-10 pb-3 mb-3">
      <div class="chart d-block">
        <canvas baseChart [datasets]="barChartDataU" [labels]="barChartLabels" [options]="barChartOptions"
          [plugins]="barChartPlugins" [legend]="barChartLegend" [chartType]="barChartType">
        </canvas>
      </div>
    </div>
    <div class="col-sm-10">
      <div class="chart d-block">
        <canvas baseChart [datasets]="barChartDataI" [labels]="barChartLabels" [options]="barChartOptions"
          [plugins]="barChartPlugins" [legend]="barChartLegend" [chartType]="barChartType">
        </canvas>
      </div>
    </div>
  </div>
</div>