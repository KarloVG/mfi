<div class="modal-header">
    <h4 class="modal-title text-primary" *ngIf="osoba; else addEntry">UreÄ‘ivanje osobe na predmetu</h4>
    <ng-template #addEntry>
        <h4 class="modal-title text-primary">Dodavanje osobe na predmet</h4>
    </ng-template>
    <a class="close" aria-label="Close" (click)="exitModal()">
        <span class="fas fa-times"></span>
    </a>
</div>

<div class="modal-body pb-0">
    <form [formGroup]="personGroup" (ngSubmit)="onSubmit()" #myForm="ngForm">
        <div class="card-body px-0 pt-0">
            <div class="col-12 mb-3">
                <label for="naziv">
                    Naziv <span class="text-danger">*</span>
                </label>
                <input type="text" class="form-control" id="naziv" name="naziv"
                    placeholder="Naziv osobe" formControlName="naziv" autocomplete="off"
                    [ngClass]="{'is-invalid': naziv.invalid && (naziv.dirty || naziv.touched || myForm.submitted)}" autocomplete="off">
                <div class="invalid-feedback">Polje je obavezno</div>
            </div>
            <div class="col-12 mb-3">
                <label for="tipOsobe">
                    Tip osobe <span class="text-danger">*</span>
                </label>
                <ng-select [items]="personTypes" bindLabel="naziv" bindValue="ID" labelForId="tipOsobe" [clearable]="false"
                    placeholder="Izaberi..." clearAllText="Clear" formControlName="tipOsobe"
                    [ngClass]="{'is-invalid': tipOsobe.invalid && (tipOsobe.dirty || tipOsobe.touched || myForm.submitted)}" autocomplete="off">
                </ng-select>
                <div class="invalid-feedback">Polje je obavezno</div>
            </div>
            <div class="col-12 mb-3">
                <label for="vrstaIdBroja">
                    Vrsta ID broja
                </label>
                <ng-select [items]="identificationTypes" bindLabel="name" bindValue="id" labelForId="vrstaIdBroja"
                    placeholder="Izaberi..." clearAllText="Clear" formControlName="vrstaIdBroja"
                    [ngClass]="{'is-invalid': vrstaIdBroja.invalid && (vrstaIdBroja.dirty || vrstaIdBroja.touched || myForm.submitted)}" autocomplete="off">
                </ng-select>
            </div>
            <div class="col-12 mb-3">
                <label for="idBroj">
                    ID broj <span class="text-danger" *ngIf="idBroj.validator">*</span>
                </label>
                <input type="text" class="form-control" id="idBroj" name="idBroj"
                    placeholder="ID broj osobe" formControlName="idBroj" autocomplete="off"
                    [ngClass]="{'is-invalid': idBroj.invalid && (idBroj.dirty || idBroj.touched || myForm.submitted)}" autocomplete="off">
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary mr-auto" (click)="exitModal()">
              <span class="fas fa-times"></span>
              <span class="ml-2">Odustani</span>
            </button>
            <button type="submit" ngbAutofocus class="btn btn-primary">
              <span class="fas fa-user-plus" *ngIf="!osoba"></span>
              <span class="fas fa-user-check" *ngIf="osoba"></span>
              <span class="ml-2" *ngIf="!osoba">Dodaj osobu</span>
              <span class="ml-2" *ngIf="osoba">Spremi osobu</span>
            </button>
        </div>
    </form>
</div>
