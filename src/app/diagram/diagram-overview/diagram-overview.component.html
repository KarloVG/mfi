<div class="">
  <section class="infobar row no-gutters mb-2">
    <header class="bg-primary col-sm-12 text-center text-light p-1">
      <span class="fas fa-sitemap"></span>
      <strong class="ml-2">
        Dijagram financijskih transakcija: Prikaz po uplati - podaci za razdoblje od 10.1.2019. do 17.11.2019. (ukupno mjeseci: 10)
      </strong>
    </header>

    <div class="col-sm-12 py-2 row ml-0 bg-light border-bottom">
      <form class="col-sm-7 row">
        <div class="col-sm-6">
          <div class="form-group row mb-1">
            <label for="osobazavizualizaciju" class="col-sm-5 col-form-label">Osoba za vizualizaciju</label>
            <div class="col-sm-7">
              <input type="text" class="form-control" id="osobazavizualizaciju" value="Marko Marković (OIB: 12345)">
            </div>
          </div>
        </div>
        <div class="col-sm-5">
          <div class="form-group row mb-1">
            <label for="racunizavizualizaciju" class="col-sm-5 col-form-label">Račun za vizualizaciju</label>
            <div class="col-sm-7">
              <input type="text" class="form-control" id="racunizavizualizaciju" value="Svi računi odabrane osobe">
            </div>
          </div>
        </div>
        <div class="col-sm-1">
          <button type="button" class="btn btn-secondary mr-3" title="Dodaj na dijagram" (click)="addUser()">
            <span class="fas fa-user-plus"></span>
          </button>
        </div>
      </form>
      <div class="col-sm-5 text-right">
        <button type="button" class="btn btn-secondary mr-3" title="Prikaži +1" data-click="expandView()">
          <span class="fas fa-expand-arrows-alt"></span>
          <span class="ml-2 d--none">Prikaži +1</span>
        </button>
        <button type="button" class="btn btn-secondary mr-3" disabled title="Alarmiranje" data-click="notifications()">
          <span class="fas fa-bell"></span>
          <span class="ml-2 d--none">Alarmiranje</span>
        </button>
        <button type="button" class="btn btn-secondary mr-3" disabled title="Izvoz slike" data-click="export()">
          <span class="fas fa-image"></span>
          <span class="ml-2 d--none">Izvoz slike</span>
        </button>
        <button type="button" class="btn btn-secondary mr-3" title="Filtriranje" data-click="filter()">
          <span class="fas fa-filter"></span>
          <span class="ml-2 d--none">Filtriranje</span>
        </button>
      </div>
    </div>
  </section>

  <div class="infobox float-left col-sm-3" *ngIf="nodeActive !== null">
    <div class="card">

      <div class="card-body" *ngIf="nodeActive.type === 'user'">
        <span class="text-right pull-right">
          <a class="close" aria-label="Close" (click)="closeInfobox()">
            <small class="fas fa-times"></small>
          </a>
        </span>
        <section>
          <div>Osoba u fokusu</div>
          <div class="h5 text-info"><strong>{{nodeActive.user.name}}, OIB: {{nodeActive.user.oib}}</strong></div>
          <div>Ukupan iznos uplata: <strong>{{nodeActive.user.totalIn|number}} HRK</strong></div>
          <div>Ukupan iznos isplata: <strong>{{nodeActive.user.totalOut|number}} HRK</strong></div>
        </section>
      </div>
      <div class="card-body" *ngIf="nodeActive.type === 'user'">
        <section *ngFor="let account of nodeActive.accounts; let i = index">
          <div class="text-info">Račun {{i+1}}</div>
          <div class="card mb-2">
            <div class="card-body">
              <div>Broj računa: <strong>{{account.accNo}}</strong></div>
              <div>SWIFT/BIC banke: <span>{{account.swift}}</span></div>
              <div>Naziv banke: <span>{{account.bank}}</span>, Država: <span>{{account.country}}</span></div>
              <hr>
              <div>Uplate na račun: <span>x</span></div>
              <div>Ukupan iznos uplata: <span>x</span></div>
              <hr>
              <div>Isplate s računa: <span>x</span></div>
              <div>Ukupan iznos isplata: <span>x</span></div>
            </div>
          </div>
        </section>
      </div>

      <div class="card-body" *ngIf="nodeActive.type === 'account'">
        <span class="text-right pull-right">
          <a class="close" aria-label="Close" (click)="closeInfobox()">
            <small class="fas fa-times"></small>
          </a>
        </span>
        <section>
          <div class="h5"><strong>Račun: {{nodeActive.account.accNo}}</strong></div>
        </section>
      </div>
      <div class="card-body" *ngIf="nodeActive.type === 'account'">
        Transakcije
        <pre>{{nodeActive.account.transactions|json}}</pre>
      </div>
    </div>
  </div>

  <div id="network" class="network-canvas p-0 m-0"></div>
</div>
